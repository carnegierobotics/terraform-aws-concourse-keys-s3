<!-- 














  ** DO NOT EDIT THIS FILE
  ** 
  ** This file was automatically generated by the `build-harness`. 
  ** 1) Make all changes to `README.yaml` 
  ** 2) Run `make init` (you only need to do this once)
  ** 3) Run`make readme` to rebuild this file. 
  **
  ** (We maintain HUNDREDS of open source projects. This is how we maintain our sanity.)
  **















  -->

[![Carnegie Robotics, LLC][logo]](https://carnegierobotics.com)

# terraform-aws-concourse-keys-s3


Terraform module for deploying Concourse TLS / SSH keys to S3.


---







## Usage


**IMPORTANT:** The `master` branch is used in `source` just as an example. In your code, do not pin to `master` because there may be breaking changes between releases.
Instead pin to the release tag (e.g. `?ref=tags/x.y.z`) of one of our [latest releases](https://github.com/carnegierobotics/terraform-aws-concourse-keys-s3/releases).



TODO






## Makefile Targets
```
Available targets:

  help                                Help screen
  help/all                            Display help for all targets
  help/short                          This help short screen

```
## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|:----:|:-----:|:-----:|
| attributes | Additional attributes (e.g. `1`) | list(string) | `<list>` | no |
| bucket_force_destroy | A boolean that indicates all objects should be deleted from the bucket so that the bucket can be destroyed without error. These objects are not recoverable | bool | `false` | no |
| delimiter | Delimiter to be used between `namespace`, `stage`, `name` and `attributes` | string | `-` | no |
| generate_keys | If set to `true` this module will generate the necessary RSA keys with the [`tls_private_key`](https://www.terraform.io/docs/providers/tls/r/private_key.html) resource and upload them to S3 (server-side encrypted). **Be aware** that this will store the generated *unencrypted* keys in the Terraform state, so be sure to use a secure state backend (e.g. S3 encrypted), or set this to `false` and generate the keys manually | string | `true` | no |
| keys_version | Change this if you want to re-generate Concourse keys | string | `1` | no |
| name | Application or solution name (e.g. `app`) | string | `concourse` | no |
| namespace | Namespace (e.g. `cp` or `cloudposse`) | string | - | yes |
| stage | Stage (e.g. `prod`, `dev`, `staging`) | string | - | yes |
| tags | Additional tags (e.g. map(`BusinessUnit`,`XYZ`) | map(string) | `<map>` | no |
| worker_iam_role_arns | List of ARNs for the IAM roles that will be able to assume the role to access concourse keys in S3. Normally you'll include the Concourse worker IAM role here | list(string) | - | yes |

## Outputs

| Name | Description |
|------|-------------|
| bucket_arn | The ARN of the S3 bucket where the concourse keys are stored |
| bucket_id | The id (name) of the S3 bucket where the concourse keys are stored |
| cross_account_role_arn | IAM role ARN that Concourse workers on other AWS accounts will need to assume to access the Concourse keys bucket |




## Related Projects

Check out these related projects.

- [terraform-aws-concourse-web](https://github.com/carnegierobotics/terraform-aws-concourse-web) - Terraform module for deploying Concourse on ECS
- [terraform-aws-concourse-ec2-worker](https://github.com/carnegierobotics/terraform-aws-concourse-ec2-worker) - Terraform module for deploying a Concourse EC2 worker ASG
- [terraform-aws-concourse-sidecred-lambda](https://github.com/carnegierobotics/terraform-aws-concourse-sidecred-lambda) - Terraform module to create a sidecred lambda for injecting and rotating credentials into SSM
- [terraform-root-modules](https://github.com/carnegierobotics/terraform-root-modules) - Terraform root modules to provision top level account



## Contributing

### Bug Reports & Feature Requests

Please use the [issue tracker](https://github.com/carnegierobotics/terraform-aws-concourse-keys-s3/issues) to report any bugs or file feature requests.

### Developing

In general, PRs are welcome. We follow the typical "fork-and-pull" Git workflow.

 1. **Fork** the repo on GitHub
 2. **Clone** the project to your own machine
 3. **Commit** changes to your own branch
 4. **Push** your work back up to your fork
 5. Submit a **Pull Request** so that we can review your changes

**NOTE:** Be sure to merge the latest changes from "upstream" before making a pull request!



## Copyrights

Copyright © 2017-2020 [Cloud Posse, LLC](https://cpco.io/copyright)

Copyright © 2020-2020 [Carnegie Robotics, LLC](https://carnegierobotics.com/)







## Trademarks

All other trademarks referenced herein are the property of their respective owners.

## About

This project is maintained and funded by [Carnegie Robotics, LLC][website].

[logo]: https://static1.squarespace.com/static/503b9985e4b04953d0f47479/t/5c9a2d3e8d1d4f0001a28973/1582047053643/?format=1500w
  [docs]: https://carnegierobotics.com?utm_source=github&utm_medium=readme&utm_campaign=carnegierobotics/terraform-aws-concourse-keys-s3&utm_content=docs
  [website]: https://carnegierobotics.com?utm_source=github&utm_medium=readme&utm_campaign=carnegierobotics/terraform-aws-concourse-keys-s3&utm_content=website
  [github]: https://github.com/carnegierobotics?utm_source=github&utm_medium=readme&utm_campaign=carnegierobotics/terraform-aws-concourse-keys-s3&utm_content=github
